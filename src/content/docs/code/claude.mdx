---
title: Claude Code
description: Claude Code 4.5/4.6 最佳实践，用于项目构建阶段
sidebar:
  order: 1
---

## Claude Opus 4.5/4.6 (2025年11月发布)

### 核心能力

| 能力 | 数据 | 说明 |
|------|------|------|
| **SWE-bench Verified** | 80.9% | 领先业界的代码生成基准 |
| **上下文窗口** | 200K tokens | 64K token 输出限制 |
| **成本降低** | 67% | $5/$25 per million tokens |
| **tau2-bench-lite** | 88.9% | Agent 工具使用评估 |

### 适用场景

Claude Code 适合项目的**构建阶段**，可以开两三个（甚至更多）并行推进。

目标：让执行文档里的任何**被真实跑通**，直到代码结构、实验入口、评测脚本都稳定。

---

## Claude 使用思路

### 核心理念

**使用更好的编排，而不是更多的算力。**

### 1. 并行协作

同时运行多个 Claude 实例（终端 5 个，浏览器 5–10 个），建议固定角色：

| 角色 | 职责 |
|------|------|
| **Architect** | 盯总体结构与接口 |
| **Implementer** | 写核心模块 |
| **Tester** | 写单测/跑评测/抓报错 |
| **Reviewer** | 做 code review + 找边界条件 |

让每个实例各司其职，减少"一个模型又写又测又改"的低效循环。

### 2. 模型选择

反直觉地使用最大、最慢的 Opus 4.5 Thinking。

因为它更能一次性把接口、边界、测试想清楚，减少返工。

### 3. 计划先行

重要任务开始时先用 Plan Mode（`shift+tab`）：

- 让它先输出任务拆解（TODO list）
- 明确输入输出与验收标准（Definition of Done）
- 再进入实现

### 4. 团队记忆

维护 `CLAUDE.md` 并提交到 Git。建议至少包含：

```markdown
# 项目约定
- 命名：snake_case for functions, PascalCase for classes
- 目录：遵循 cookiecutter-data-science 结构

# 常见坑
- 数据路径：使用 pathlib 而非相对路径
- 随机种子：每次实验固定 seed=42
- 显存：batch_size 先从 32 开始调试

# Debug 流程
1. 复现 bug → 2. 最小化用例 → 3. 定位 → 4. 修复 → 5. 加测试
```

### 5. 自动化快捷命令

把重复工作流封装：`format / test / eval / report` 一键化。

### 6. AI 互相审查

用 Subagents 交叉检查：

- 一个负责"能不能跑"
- 一个负责"是不是对"
- 一个负责"是不是公平对比"

### 7. 建立验证循环 ⭐最关键

- 每次实现必须有可验证输出：单测/脚本/最小样例
- 每次修复必须补一个测试，防止回归
- 没有验证闭环的"写代码"，最后一定会爆债务

---

## Claude Code 2.0 新特性

### 核心能力升级

| 特性 | 说明 | 研究用途 |
|------|------|---------|
| **Sub-agents** | 专业化子Agent，并行执行 | 文献分析/代码实现/测试分离 |
| **MCP 集成** | 连接外部数据源和工具 | 访问Zotero/数据库/API |
| **Hooks** | 事件驱动的自动化 | 格式检查/测试运行/文档生成 |
| **Skills** | 可复用的能力包 | 领域特定工作流封装 |
| **Plan Mode** | 结构化任务规划 | 复杂项目的任务拆解 |
| **自定义命令** | 工作流快捷方式 | 一键运行常用操作 |

### MCP 工具生态

| 工具 | 功能 | 适用场景 |
|------|------|---------|
| **Zotero-MCP** | 直接访问本地Zotero文献库 | 文献管理、引用分析 |
| **Perplexity MCP** | Deep Research模式 | 技术调研、综述写作 |
| **ClickHouse MCP** | 数据库集成 | 大数据分析 |
| **GitHub MCP** | 仓库操作 | 版本控制自动化 |

---

## 最佳实践：团队协作模式

### 角色分工

| 角色 | 职责 | Claude 实例数 |
|------|------|-------------|
| Architect | 总体结构与接口设计 | 1-2 |
| Implementer | 核心模块实现 | 2-3 |
| Tester | 测试用例与评测 | 1-2 |
| Reviewer | Code review 与边界检查 | 1-2 |

### 团队记忆 (CLAUDE.md)

```markdown
# 项目约定
- 命名：snake_case for functions, PascalCase for classes
- 目录：遵循 cookiecutter-data-science 结构

# 常见坑
- 数据路径：使用 pathlib 而非相对路径
- 随机种子：每次实验固定 seed=42
- 显存：batch_size 先从 32 开始调试

# Debug 流程
1. 复现 bug → 2. 最小化用例 → 3. 定位 → 4. 修复 → 5. 加测试
```
