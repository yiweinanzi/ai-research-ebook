:root,
[data-theme='light'] {
	--chat-bg-primary: #f7f7f8;
	--chat-bg-secondary: #ffffff;
	--chat-bg-tertiary: #f0f1f3;
	--chat-sidebar-bg: #f9f9fb;
	--chat-border: #e3e5e9;
	--chat-border-strong: #d1d5db;
	--chat-text-primary: #171717;
	--chat-text-secondary: #374151;
	--chat-text-tertiary: #6b7280;
	--chat-link: #2563eb;
	--chat-link-hover: #1d4ed8;
	--chat-accent: #10a37f;
	--chat-accent-hover: #0d8e6f;
	--chat-selection: #bfdbfe;
	--chat-shadow-sm: 0 1px 2px rgba(15, 23, 42, 0.06);
	--chat-shadow-md: 0 10px 24px rgba(15, 23, 42, 0.08);
	--chat-radius-sm: 0.375rem;
	--chat-radius-md: 0.625rem;
	--chat-radius-lg: 0.875rem;
	--chat-radius-xl: 1.125rem;
	--chat-transition-fast: 0.15s ease;
	--chat-transition-normal: 0.25s ease;
	--sl-color-accent: var(--chat-accent);
	--sl-color-accent-high: var(--chat-accent-hover);
	--sl-color-bg: var(--chat-bg-primary);
	--sl-color-bg-nav: var(--chat-sidebar-bg);
	--sl-color-bg-sidebar: var(--chat-sidebar-bg);
	--sl-color-hairline: var(--chat-border);
	--sl-color-hairline-light: var(--chat-border);
	--sl-color-text: var(--chat-text-primary);
	--sl-color-text-accent: var(--chat-accent);
	--sl-color-text-muted: var(--chat-text-tertiary);
}

[data-theme='dark'] {
	--chat-bg-primary: #212121;
	--chat-bg-secondary: #2f2f2f;
	--chat-bg-tertiary: #424242;
	--chat-sidebar-bg: #171717;
	--chat-border: hsla(0, 0%, 100%, 0.1);
	--chat-border-strong: hsla(0, 0%, 100%, 0.2);
	--chat-text-primary: #ececec;
	--chat-text-secondary: #d1d5db;
	--chat-text-tertiary: #9ca3af;
	--chat-link: #7ab7ff;
	--chat-link-hover: #9cc9ff;
	--chat-accent: #19c37d;
	--chat-accent-hover: #10a37f;
	--chat-selection: #1d4ed8;
	--chat-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.28);
	--chat-shadow-md: 0 10px 24px rgba(0, 0, 0, 0.32);
	--sl-color-accent: var(--chat-accent);
	--sl-color-accent-high: var(--chat-accent-hover);
	--sl-color-bg: var(--chat-bg-primary);
	--sl-color-bg-nav: var(--chat-sidebar-bg);
	--sl-color-bg-sidebar: var(--chat-sidebar-bg);
	--sl-color-hairline: var(--chat-border);
	--sl-color-hairline-light: var(--chat-border);
	--sl-color-text: var(--chat-text-primary);
	--sl-color-text-accent: var(--chat-accent);
	--sl-color-text-muted: var(--chat-text-tertiary);
}

html,
body {
	font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
	background: var(--chat-bg-primary);
	color: var(--chat-text-primary);
	line-height: 1.7;
}

::selection {
	background: var(--chat-selection);
	color: #ffffff;
}

:focus-visible {
	outline: 2px solid var(--chat-accent);
	outline-offset: 2px;
}

.header {
	background: color-mix(in srgb, var(--chat-bg-primary) 92%, transparent);
	backdrop-filter: blur(10px);
	border-bottom: 1px solid var(--chat-border);
}

.site-title {
	font-weight: 600;
	letter-spacing: -0.01em;
	color: var(--chat-text-primary);
}

.sidebar-pane {
	background: var(--chat-sidebar-bg) !important;
	border-inline-end: 1px solid var(--chat-border) !important;
}

.sidebar-content a {
	color: var(--chat-text-secondary);
	padding: 0.5rem 0.875rem;
	margin: 0.125rem 0.375rem;
	border-radius: var(--chat-radius-md);
	transition: background-color var(--chat-transition-fast), color var(--chat-transition-fast);
}

.sidebar-content a:hover,
.sidebar-content a:focus-visible {
	background: var(--chat-bg-tertiary);
	color: var(--chat-text-primary);
}

.sidebar-content [aria-current='page'],
.sidebar-content [aria-current='page']:hover {
	background: color-mix(in srgb, var(--chat-accent) 16%, var(--chat-bg-secondary));
	color: var(--chat-accent);
	font-weight: 600;
}

.main-pane {
	background: var(--chat-bg-primary);
}

.main-frame {
	background:
		radial-gradient(circle at 86% 4%, color-mix(in srgb, var(--chat-accent) 7%, transparent), transparent 32%),
		radial-gradient(circle at 8% 12%, color-mix(in srgb, var(--chat-link) 7%, transparent), transparent 28%),
		var(--chat-bg-primary);
}

.content-panel {
	background: transparent !important;
	border: 0 !important;
	box-shadow: none !important;
	padding-block: 0.25rem !important;
}

.sl-container {
	max-width: min(76rem, 96vw);
}

html:not([data-has-hero]) .content-panel .sl-container {
	background: var(--chat-bg-secondary);
	border: 1px solid var(--chat-border);
	border-radius: var(--chat-radius-xl);
	box-shadow: var(--chat-shadow-sm);
	padding-inline: clamp(1rem, 2vw, 1.35rem);
	padding-block: 0.35rem;
	margin-bottom: 0.75rem;
}

html:not([data-has-hero]) .content-panel:first-of-type .sl-container {
	padding-top: 0.6rem;
	padding-bottom: 0.3rem;
}

html:not([data-has-hero]) .content-panel:first-of-type h1 {
	margin-bottom: 0.2rem;
}

.sidebar .group-label,
.sidebar .title {
	color: var(--chat-text-tertiary);
	font-weight: 600;
	letter-spacing: 0.01em;
}

.open-menu,
.close-menu,
.mobile-preferences {
	background: var(--chat-bg-secondary);
	border: 1px solid var(--chat-border);
	border-radius: var(--chat-radius-md);
	color: var(--chat-text-secondary);
}

.mobile-preferences {
	padding: 0.4rem 0.6rem;
	gap: 0.5rem;
}

.right-sidebar-container {
	background: color-mix(in srgb, var(--chat-bg-secondary) 76%, transparent);
	border-inline-start: 1px solid var(--chat-border);
}

.right-sidebar-panel .sl-container {
	padding-top: 0.5rem;
}

@keyframes hero-fade-in {
	0% {
		opacity: 0;
		transform: translateY(14px) scale(0.995);
	}
	100% {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
}

@keyframes hero-float-left {
	0%,
	100% {
		transform: translate3d(0, 0, 0);
	}
	50% {
		transform: translate3d(8px, -10px, 0);
	}
}

@keyframes hero-float-right {
	0%,
	100% {
		transform: translate3d(0, 0, 0);
	}
	50% {
		transform: translate3d(-10px, 9px, 0);
	}
}

@keyframes hero-content-rise {
	0% {
		opacity: 0;
		transform: translateY(12px);
	}
	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

.hero {
	position: relative;
	isolation: isolate;
	overflow: hidden;
	background:
		linear-gradient(122deg, color-mix(in srgb, var(--chat-accent) 9%, transparent), transparent 38%),
		linear-gradient(0deg, var(--chat-bg-secondary), var(--chat-bg-secondary));
	border: 1px solid var(--chat-border);
	border-radius: var(--chat-radius-xl);
	box-shadow: var(--chat-shadow-sm);
	padding: 2.75rem 3rem;
	margin-bottom: 2rem;
	opacity: 0;
	transform-origin: center;
	animation: hero-fade-in 0.7s cubic-bezier(0.2, 0.8, 0.2, 1) 0.1s forwards;
}

.hero::before {
	content: '';
	position: absolute;
	inset: -5rem auto auto -5rem;
	width: 13rem;
	height: 13rem;
	border-radius: 999px;
	background: radial-gradient(circle, color-mix(in srgb, var(--chat-link) 20%, transparent), transparent 72%);
	filter: blur(1px);
	pointer-events: none;
	z-index: -1;
	animation: hero-float-left 8.8s ease-in-out infinite;
}

.hero::after {
	content: '';
	position: absolute;
	inset: auto -4rem -5rem auto;
	width: 14rem;
	height: 14rem;
	border-radius: 999px;
	background: radial-gradient(circle, color-mix(in srgb, var(--chat-accent) 20%, transparent), transparent 70%);
	filter: blur(1px);
	pointer-events: none;
	z-index: -1;
	animation: hero-float-right 10.4s ease-in-out infinite;
}

.hero .copy,
.hero .actions {
	opacity: 0;
	transform: translateY(10px);
	animation: hero-content-rise 0.6s cubic-bezier(0.22, 0.83, 0.19, 0.99) forwards;
}

.hero .copy {
	animation-delay: 0.24s;
}

.hero .actions {
	animation-delay: 0.36s;
}

.hero h1 {
	font-size: clamp(2rem, 3.4vw, 2.8rem);
	font-weight: 700;
	letter-spacing: -0.02em;
	color: var(--chat-text-primary);
}

.hero .tagline {
	color: var(--chat-text-secondary);
	font-size: 1.08rem;
	max-width: 58ch;
}

.hero .actions .sl-link-button {
	border-radius: 999px;
	padding: 0.7rem 1.25rem;
	font-weight: 600;
	transition: transform var(--chat-transition-fast), box-shadow var(--chat-transition-fast), background-color var(--chat-transition-fast);
}

.hero .actions .sl-link-button.primary {
	background: var(--chat-accent);
	border-color: var(--chat-accent);
	color: #ffffff;
	box-shadow: 0 8px 16px color-mix(in srgb, var(--chat-accent) 34%, transparent);
}

.hero .actions .sl-link-button.primary:hover {
	background: var(--chat-accent-hover);
	border-color: var(--chat-accent-hover);
	transform: translateY(-1px);
}

.hero .actions .sl-link-button.minimal,
.hero .actions .sl-link-button.secondary {
	border-color: var(--chat-border-strong);
	color: var(--chat-text-primary);
	background: transparent;
}

.hero .actions .sl-link-button.minimal:hover,
.hero .actions .sl-link-button.secondary:hover {
	background: var(--chat-bg-tertiary);
	transform: translateY(-1px);
}

.sl-markdown-content {
	max-width: 74ch;
	color: var(--chat-text-primary);
}

.sl-markdown-content :is(h1, h2, h3, h4, h5, h6) {
	color: var(--chat-text-primary);
	font-weight: 650;
	letter-spacing: -0.01em;
	scroll-margin-top: 6rem;
}

.sl-markdown-content h2 {
	border-bottom: 1px solid var(--chat-border);
	padding-bottom: 0.5rem;
	margin-top: 2rem;
	margin-bottom: 1rem;
}

.sl-heading-wrapper {
	gap: 0.35rem;
}

.sl-anchor-link {
	opacity: 0;
	transform: translateX(-2px);
	transition: opacity var(--chat-transition-fast), transform var(--chat-transition-fast);
}

.sl-heading-wrapper:hover .sl-anchor-link,
.sl-heading-wrapper:focus-within .sl-anchor-link {
	opacity: 1;
	transform: translateX(0);
}

.sl-markdown-content p,
.sl-markdown-content li,
.sl-markdown-content td {
	color: var(--chat-text-secondary);
}

.sl-markdown-content ul,
.sl-markdown-content ol {
	padding-inline-start: 1.2rem;
	margin-block: 0.7rem;
}

.sl-markdown-content li + li {
	margin-top: 0.2rem;
}

.sl-markdown-content strong {
	color: var(--chat-text-primary);
	font-weight: 650;
}

.sl-markdown-content a {
	color: var(--chat-link);
	text-decoration: none;
	transition: color var(--chat-transition-fast);
}

.sl-markdown-content a:hover {
	color: var(--chat-link-hover);
	text-decoration: underline;
}

.sl-markdown-content hr {
	border: none;
	border-top: 1px solid var(--chat-border);
	margin-block: 2rem;
}

.sl-markdown-content blockquote {
	border-inline-start: 3px solid var(--chat-accent);
	background: color-mix(in srgb, var(--chat-accent) 10%, var(--chat-bg-secondary));
	padding: 0.8rem 1rem;
	border-radius: 0 var(--chat-radius-md) var(--chat-radius-md) 0;
	color: var(--chat-text-secondary);
}

.sl-markdown-content details {
	background: var(--chat-bg-secondary);
	border: 1px solid var(--chat-border);
	border-radius: var(--chat-radius-md);
	padding: 0.75rem 0.9rem;
	margin-block: 1rem;
}

.sl-markdown-content .tip,
.sl-markdown-content .warning {
	border-radius: var(--chat-radius-md);
	border: 1px solid var(--chat-border);
	padding: 0.75rem 0.95rem;
	margin: 1rem 0;
	box-shadow: var(--chat-shadow-sm);
}

.sl-markdown-content .tip {
	background: color-mix(in srgb, var(--chat-accent) 9%, var(--chat-bg-secondary));
	border-inline-start: 3px solid var(--chat-accent);
}

.sl-markdown-content .warning {
	background: color-mix(in srgb, #f59e0b 10%, var(--chat-bg-secondary));
	border-inline-start: 3px solid #f59e0b;
}

.sl-markdown-content .contains-task-list {
	list-style: none;
	padding-inline-start: 0;
}

.sl-markdown-content .task-list-item {
	display: flex;
	align-items: flex-start;
	gap: 0.55rem;
	padding: 0.15rem 0;
}

.sl-markdown-content .task-list-item input[type='checkbox'] {
	accent-color: var(--chat-accent);
	margin-top: 0.2rem;
}

.sl-markdown-content table {
	border: 1px solid var(--chat-border);
	border-radius: var(--chat-radius-md);
	overflow: hidden;
	background: var(--chat-bg-secondary);
	box-shadow: var(--chat-shadow-sm);
}

.sl-markdown-content th {
	background: var(--chat-bg-tertiary);
	border-bottom: 1px solid var(--chat-border);
	color: var(--chat-text-primary);
	font-weight: 600;
	padding: 0.8rem 1rem;
}

.sl-markdown-content td {
	border-bottom: 1px solid var(--chat-border);
	padding: 0.8rem 1rem;
}

.sl-markdown-content tbody tr:hover td {
	background: color-mix(in srgb, var(--chat-bg-tertiary) 55%, transparent);
}

.sl-markdown-content code:not(pre code) {
	background: var(--chat-bg-tertiary);
	border: 1px solid var(--chat-border);
	padding: 0.12rem 0.4rem;
	border-radius: var(--chat-radius-sm);
	font-size: 0.9em;
	color: var(--chat-accent);
}

.expressive-code,
.sl-markdown-content pre {
	border: 1px solid var(--chat-border) !important;
	border-radius: var(--chat-radius-md) !important;
	background: var(--chat-bg-secondary) !important;
	box-shadow: var(--chat-shadow-sm) !important;
}

.expressive-code .copy button {
	background: var(--chat-bg-tertiary) !important;
	border: 1px solid var(--chat-border) !important;
	border-radius: var(--chat-radius-sm) !important;
	color: var(--chat-text-secondary) !important;
}

.expressive-code .copy button:hover {
	color: var(--chat-text-primary) !important;
	border-color: var(--chat-border-strong) !important;
}

.card-grid {
	gap: 0.9rem;
	margin-block: 1.4rem;
}

.card-grid > * {
	background: var(--chat-bg-secondary);
	border: 1px solid var(--chat-border);
	border-radius: var(--chat-radius-lg);
	padding: 1rem;
	box-shadow: var(--chat-shadow-sm);
	transition: transform var(--chat-transition-fast), border-color var(--chat-transition-fast), box-shadow var(--chat-transition-fast);
}

.card-grid > *:hover {
	transform: translateY(-2px);
	border-color: var(--chat-border-strong);
	box-shadow: var(--chat-shadow-md);
}

.right-sidebar-panel {
	border-inline-start: 1px solid var(--chat-border);
	background: transparent;
}

starlight-toc nav h2 {
	color: var(--chat-text-tertiary);
	font-weight: 600;
	letter-spacing: 0;
}

starlight-toc a {
	color: var(--chat-text-tertiary);
	border-radius: var(--chat-radius-sm);
	transition: color var(--chat-transition-fast), background-color var(--chat-transition-fast);
}

starlight-toc a:hover {
	color: var(--chat-text-primary);
	background: var(--chat-bg-tertiary);
}

starlight-toc a[aria-current='true'] {
	color: var(--chat-accent);
	font-weight: 600;
}

.right-sidebar-panel starlight-toc nav {
	background: var(--chat-bg-secondary);
	border: 1px solid var(--chat-border);
	border-radius: var(--chat-radius-lg);
	padding: 0.8rem;
	box-shadow: var(--chat-shadow-sm);
}

button[data-open-modal],
.search-button {
	background: var(--chat-bg-secondary) !important;
	border: 1px solid var(--chat-border) !important;
	color: var(--chat-text-secondary) !important;
	border-radius: var(--chat-radius-md) !important;
	transition: all var(--chat-transition-fast);
}

button[data-open-modal]:hover,
.search-button:hover {
	background: var(--chat-bg-tertiary) !important;
	border-color: var(--chat-border-strong) !important;
	color: var(--chat-text-primary) !important;
}

.pagination-links a {
	background: var(--chat-bg-secondary);
	border: 1px solid var(--chat-border);
	border-radius: var(--chat-radius-lg);
	box-shadow: var(--chat-shadow-sm);
	transition: transform var(--chat-transition-fast), border-color var(--chat-transition-fast), box-shadow var(--chat-transition-fast);
}

.pagination-links a:hover {
	transform: translateY(-2px);
	border-color: var(--chat-border-strong);
	box-shadow: var(--chat-shadow-md);
}

.pagination-links .link-title {
	color: var(--chat-text-primary);
}

starlight-theme-select {
	--theme-button-border: var(--chat-border);
	--theme-button-bg: var(--chat-bg-secondary);
	--theme-button-text: var(--chat-text-secondary);
	--theme-button-hover-bg: var(--chat-bg-tertiary);
	--theme-button-hover-text: var(--chat-text-primary);
}

footer {
	border-top: 1px solid var(--chat-border);
	padding-top: 1.75rem;
	margin-top: 2.25rem;
	color: var(--chat-text-tertiary);
}

.index-highlights {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(14rem, 1fr));
	gap: 0.75rem;
	margin: 1.2rem 0 1.8rem;
	padding: 0;
}

.index-highlights > li {
	list-style: none;
	padding: 0.85rem 1rem;
	border: 1px solid var(--chat-border);
	border-radius: var(--chat-radius-lg);
	background: var(--chat-bg-secondary);
	color: var(--chat-text-secondary);
	box-shadow: var(--chat-shadow-sm);
}

.index-footnote {
	margin-top: 2.4rem;
	padding-top: 1rem;
	border-top: 1px solid var(--chat-border);
	text-align: center;
	font-size: 0.9rem;
	color: var(--chat-text-tertiary);
}

.mermaid-source-hidden {
	display: none !important;
}

.mermaid-diagram {
	margin: 1rem 0 1.5rem;
	padding: 1rem;
	border: 1px solid var(--chat-border);
	border-radius: var(--chat-radius-lg);
	background: var(--chat-bg-secondary);
	overflow-x: auto;
	box-shadow: var(--chat-shadow-sm);
}

.mermaid-diagram .mermaid {
	min-width: max-content;
	text-align: center;
}

.mermaid-diagram svg {
	max-width: none;
	height: auto;
	display: block;
	margin-inline: auto;
}

@media (max-width: 72rem) {
	html:not([data-has-hero]) .content-panel .sl-container {
		border-radius: var(--chat-radius-lg);
		padding-inline: 0.85rem;
	}

	.right-sidebar-container {
		border-inline-start: 0;
		background: transparent;
	}

	.hero {
		padding: 1.35rem;
		border-radius: var(--chat-radius-lg);
	}

	.hero h1 {
		font-size: clamp(1.7rem, 7vw, 2.1rem);
	}

	.hero .tagline {
		font-size: 0.98rem;
	}

	.hero .actions {
		display: grid;
		grid-template-columns: 1fr;
		gap: 0.6rem;
	}

	.hero .actions .sl-link-button {
		width: 100%;
		justify-content: center;
	}

	.sl-markdown-content {
		max-width: 100%;
	}

	.sl-markdown-content table {
		display: block;
		overflow-x: auto;
		white-space: nowrap;
	}

	.sl-markdown-content th,
	.sl-markdown-content td {
		padding: 0.68rem 0.8rem;
	}

	.index-highlights {
		grid-template-columns: 1fr;
		margin: 1rem 0 1.35rem;
	}

	.mermaid-diagram {
		margin: 0.85rem 0 1.2rem;
		padding: 0.75rem;
	}

	.pagination-links a {
		padding-block: 0.72rem;
	}

	.open-menu,
	.close-menu {
		min-height: 2.35rem;
		min-width: 2.35rem;
	}

	.right-sidebar-panel {
		border-inline-start: 0;
	}
}

@media (max-width: 50rem) {
	html {
		font-size: 15px;
	}

	.content-panel {
		padding-block: 0.1rem !important;
	}

	.sl-markdown-content h2 {
		font-size: 1.26rem;
	}

	.sl-markdown-content h3 {
		font-size: 1.08rem;
	}

	button[data-open-modal] {
		min-height: 2.35rem;
	}

	.sidebar-pane {
		padding-bottom: 0.45rem;
	}
}

@media (prefers-reduced-motion: reduce) {
	.hero,
	.hero::before,
	.hero::after,
	.hero .copy,
	.hero .actions {
		animation: none !important;
		opacity: 1 !important;
		transform: none !important;
	}

	.card-grid > *,
	.pagination-links a,
	.hero .actions .sl-link-button {
		transition: none !important;
	}
}
