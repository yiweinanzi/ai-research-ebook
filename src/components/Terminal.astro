---
---

<div class="terminal-container w-full max-w-3xl mx-auto mt-20 mb-10 font-mono text-sm">
  <div class="bg-[#1e1e1e] rounded-lg shadow-2xl overflow-hidden border border-white/10">
    <div class="flex items-center px-4 py-2 bg-[#2d2d2d] border-b border-white/5">
      <div class="flex gap-2">
        <div class="w-3 h-3 rounded-full bg-red-500"></div>
        <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
        <div class="w-3 h-3 rounded-full bg-green-500"></div>
      </div>
      <div class="ml-4 text-gray-400 text-xs">researcher@vibe-research ~ </div>
    </div>

    <div class="p-4 h-64 overflow-y-auto" id="terminal-output">
      <div class="mb-2 text-gray-400">Welcome to Vibe Research Terminal.</div>
      <div class="mb-2 text-gray-400">Type <span class="text-green-400">'help'</span> to see available commands.</div>

      <div class="output-history"></div>

      <div class="flex items-center gap-2 mt-2">
        <span class="text-green-500">➜</span>
        <span class="text-blue-400">~</span>
        <input type="text" id="terminal-input" class="bg-transparent border-none outline-none text-gray-200 flex-1 focus:ring-0" autocomplete="off" />
      </div>
    </div>
  </div>
</div>

<script>
  const input = document.getElementById('terminal-input') as HTMLInputElement;
  const output = document.querySelector('.output-history');
  const terminalBody = document.getElementById('terminal-output');

  const commands: Record<string, string> = {
    help: 'Available commands: about, chapters, workflow, contact, clear, vibecode',
    about: 'Vibe Research: AI research playbook from ideation to rebuttal.',
    chapters: 'idea, code, figures, writing, review, tools, library',
    workflow: 'Idea -> Code -> Figures -> Writing -> Review -> Submission',
    contact: 'GitHub: yiweinanzi/ai-research-ebook',
    vibecode: 'Output first. Validate with experiments. Iterate with evidence.',
    clear: ''
  };

  input?.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      const cmd = input.value.trim().toLowerCase();

      const cmdLine = document.createElement('div');
      cmdLine.className = 'mb-1';
      cmdLine.innerHTML = `<span class="text-green-500">➜</span> <span class="text-blue-400">~</span> <span class="text-gray-200">${input.value}</span>`;
      output?.appendChild(cmdLine);

      if (cmd === 'clear') {
        if (output) output.innerHTML = '';
      } else if (commands[cmd]) {
        const response = document.createElement('div');
        response.className = 'mb-4 text-gray-300 ml-4';
        response.textContent = commands[cmd];
        output?.appendChild(response);
      } else if (cmd !== '') {
        const error = document.createElement('div');
        error.className = 'mb-4 text-red-400 ml-4';
        error.textContent = `Command not found: ${cmd}. Try 'help'.`;
        output?.appendChild(error);
      }

      input.value = '';
      terminalBody?.scrollTo(0, terminalBody.scrollHeight);
    }
  });

  terminalBody?.addEventListener('click', () => {
    input?.focus();
  });
</script>
